"use strict";

var axios = require('axios');

/**
 * Initialize the API with the given config.
 * @param config - The config object.
 * @returns None
 */
var init = function init(config) {
  // Accept Encoding in Node
  if (typeof window === 'undefined') {
    axios.defaults.headers.common['Accept-Encoding'] = 'gzip, deflate';
  }
  if (config && config.token) {
    axios.defaults.headers.common.Authorization = config.token;
  }
};

/**
 * A wrapper around axios that handles the request and response.
 * @param method - The HTTP method to use.
 * @param url - The URL to send the request to.
 * @param data - The data to send with the request.
 * @param headers - The headers to send with the request.
 * @returns The response from the server.
 */
var requestHandler = function requestHandler(method, url, data, headers) {
  var config = {
    method: method,
    url: url,
    data: data,
    headers: headers
  };
  return axios(config).then(function (response) {
    return response.data;
  })["catch"](function (error) {
    throw error.response ? error.response.data : error.response;
  });
};
module.exports = {
  init: init,
  requestHandler: requestHandler
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheGlvcyIsInJlcXVpcmUiLCJpbml0IiwiY29uZmlnIiwid2luZG93IiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwidG9rZW4iLCJBdXRob3JpemF0aW9uIiwicmVxdWVzdEhhbmRsZXIiLCJtZXRob2QiLCJ1cmwiLCJkYXRhIiwidGhlbiIsInJlc3BvbnNlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hlbHBlcnMvcmVxdWVzdEhhbmRsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIEFQSSB3aXRoIHRoZSBnaXZlbiBjb25maWcuXG4gKiBAcGFyYW0gY29uZmlnIC0gVGhlIGNvbmZpZyBvYmplY3QuXG4gKiBAcmV0dXJucyBOb25lXG4gKi9cbmNvbnN0IGluaXQgPSAoY29uZmlnKSA9PiB7XG4gIC8vIEFjY2VwdCBFbmNvZGluZyBpbiBOb2RlXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBY2NlcHQtRW5jb2RpbmcnXSA9ICdnemlwLCBkZWZsYXRlJztcbiAgfVxuICBpZiAoY29uZmlnICYmIGNvbmZpZy50b2tlbikge1xuICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSBjb25maWcudG9rZW47XG4gIH1cbn07XG5cbi8qKlxuICogQSB3cmFwcGVyIGFyb3VuZCBheGlvcyB0aGF0IGhhbmRsZXMgdGhlIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICogQHBhcmFtIG1ldGhvZCAtIFRoZSBIVFRQIG1ldGhvZCB0byB1c2UuXG4gKiBAcGFyYW0gdXJsIC0gVGhlIFVSTCB0byBzZW5kIHRoZSByZXF1ZXN0IHRvLlxuICogQHBhcmFtIGRhdGEgLSBUaGUgZGF0YSB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0gaGVhZGVycyAtIFRoZSBoZWFkZXJzIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cbiAqIEByZXR1cm5zIFRoZSByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gKi9cbmNvbnN0IHJlcXVlc3RIYW5kbGVyID0gKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzKSA9PiB7XG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICBtZXRob2QsXG4gICAgdXJsLFxuICAgIGRhdGEsXG4gICAgaGVhZGVycyxcbiAgfTtcbiAgcmV0dXJuIGF4aW9zKGNvbmZpZylcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmRhdGEpXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgdGhyb3cgZXJyb3IucmVzcG9uc2UgPyBlcnJvci5yZXNwb25zZS5kYXRhIDogZXJyb3IucmVzcG9uc2U7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdCxcbiAgcmVxdWVzdEhhbmRsZXIsXG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQzs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU1DLElBQUksR0FBRyxTQUFQQSxJQUFJLENBQUlDLE1BQU0sRUFBSztFQUN2QjtFQUNBLElBQUksT0FBT0MsTUFBTSxLQUFLLFdBQVcsRUFBRTtJQUNqQ0osS0FBSyxDQUFDSyxRQUFRLENBQUNDLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsZUFBZTtFQUNwRTtFQUNBLElBQUlKLE1BQU0sSUFBSUEsTUFBTSxDQUFDSyxLQUFLLEVBQUU7SUFDMUJSLEtBQUssQ0FBQ0ssUUFBUSxDQUFDQyxPQUFPLENBQUNDLE1BQU0sQ0FBQ0UsYUFBYSxHQUFHTixNQUFNLENBQUNLLEtBQUs7RUFDNUQ7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFNRSxjQUFjLEdBQUcsU0FBakJBLGNBQWMsQ0FBSUMsTUFBTSxFQUFFQyxHQUFHLEVBQUVDLElBQUksRUFBRVAsT0FBTyxFQUFLO0VBQ3JELElBQU1ILE1BQU0sR0FBRztJQUNiUSxNQUFNLEVBQU5BLE1BQU07SUFDTkMsR0FBRyxFQUFIQSxHQUFHO0lBQ0hDLElBQUksRUFBSkEsSUFBSTtJQUNKUCxPQUFPLEVBQVBBO0VBQ0YsQ0FBQztFQUNELE9BQU9OLEtBQUssQ0FBQ0csTUFBTSxDQUFDLENBQ2pCVyxJQUFJLENBQUMsVUFBQ0MsUUFBUTtJQUFBLE9BQUtBLFFBQVEsQ0FBQ0YsSUFBSTtFQUFBLEVBQUMsU0FDNUIsQ0FBQyxVQUFDRyxLQUFLLEVBQUs7SUFDaEIsTUFBTUEsS0FBSyxDQUFDRCxRQUFRLEdBQUdDLEtBQUssQ0FBQ0QsUUFBUSxDQUFDRixJQUFJLEdBQUdHLEtBQUssQ0FBQ0QsUUFBUTtFQUM3RCxDQUFDLENBQUM7QUFDTixDQUFDO0FBRURFLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2ZoQixJQUFJLEVBQUpBLElBQUk7RUFDSlEsY0FBYyxFQUFkQTtBQUNGLENBQUMifQ==