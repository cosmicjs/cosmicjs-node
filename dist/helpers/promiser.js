"use strict";

const HTTP_METHODS = require('../constants/httpMethods.constants');
const {
  requestHandler
} = require('./requestHandlerPromise');

/**
 * A function that takes in an endpoint and returns a promise that resolves to the data of the response.
 * @param endpoint - The endpoint to make the request to.
 * @returns A promise that resolves to the data of the response.
 */
const promiser = endpoint => new Promise((resolve, reject) => {
  requestHandler(HTTP_METHODS.GET, endpoint).then(response => resolve(response.data)).catch(err => reject(err.response ? err.response.data : err.response));
});
module.exports = promiser;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJIVFRQX01FVEhPRFMiLCJyZXF1aXJlIiwicmVxdWVzdEhhbmRsZXIiLCJwcm9taXNlciIsImVuZHBvaW50IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJHRVQiLCJ0aGVuIiwicmVzcG9uc2UiLCJkYXRhIiwiY2F0Y2giLCJlcnIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hlbHBlcnMvcHJvbWlzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSFRUUF9NRVRIT0RTID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzL2h0dHBNZXRob2RzLmNvbnN0YW50cycpO1xuY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gcmVxdWlyZSgnLi9yZXF1ZXN0SGFuZGxlclByb21pc2UnKTtcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgaW4gYW4gZW5kcG9pbnQgYW5kIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGRhdGEgb2YgdGhlIHJlc3BvbnNlLlxuICogQHBhcmFtIGVuZHBvaW50IC0gVGhlIGVuZHBvaW50IHRvIG1ha2UgdGhlIHJlcXVlc3QgdG8uXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgZGF0YSBvZiB0aGUgcmVzcG9uc2UuXG4gKi9cbmNvbnN0IHByb21pc2VyID0gKGVuZHBvaW50KSA9PlxuICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVxdWVzdEhhbmRsZXIoSFRUUF9NRVRIT0RTLkdFVCwgZW5kcG9pbnQpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc29sdmUocmVzcG9uc2UuZGF0YSkpXG4gICAgICAuY2F0Y2goKGVycikgPT4gcmVqZWN0KGVyci5yZXNwb25zZSA/IGVyci5yZXNwb25zZS5kYXRhIDogZXJyLnJlc3BvbnNlKSk7XG4gIH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHByb21pc2VyO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDLG9DQUFvQyxDQUFDO0FBQ2xFLE1BQU07RUFBRUM7QUFBZSxDQUFDLEdBQUdELE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQzs7QUFFN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1FLFFBQVEsR0FBSUMsUUFBUSxJQUN4QixJQUFJQyxPQUFPLENBQUMsQ0FBQ0MsT0FBTyxFQUFFQyxNQUFNLEtBQUs7RUFDL0JMLGNBQWMsQ0FBQ0YsWUFBWSxDQUFDUSxHQUFHLEVBQUVKLFFBQVEsQ0FBQyxDQUN2Q0ssSUFBSSxDQUFFQyxRQUFRLElBQUtKLE9BQU8sQ0FBQ0ksUUFBUSxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUMxQ0MsS0FBSyxDQUFFQyxHQUFHLElBQUtOLE1BQU0sQ0FBQ00sR0FBRyxDQUFDSCxRQUFRLEdBQUdHLEdBQUcsQ0FBQ0gsUUFBUSxDQUFDQyxJQUFJLEdBQUdFLEdBQUcsQ0FBQ0gsUUFBUSxDQUFDLENBQUM7QUFDNUUsQ0FBQyxDQUFDO0FBRUpJLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHWixRQUFRIn0=